{"version":3,"file":"SublayersCollectionImpl.js","sources":["SublayersCollectionImpl.ts"],"sourcesContent":["// SPDX-FileCopyrightText: 2023 Open Pioneer project (https://github.com/open-pioneer)\n// SPDX-License-Identifier: Apache-2.0\nimport { EventEmitter } from \"@open-pioneer/core\";\nimport {\n    LayerRetrievalOptions,\n    Sublayer as SublayerInterface,\n    SublayersCollection,\n    SublayersCollectionEvents\n} from \"../api\";\nimport { AbstractLayerBase } from \"./AbstractLayerBase\";\n\n// NOTE: adding / removing sublayers currently not supported\nexport class SublayersCollectionImpl<Sublayer extends SublayerInterface & AbstractLayerBase>\n    extends EventEmitter<SublayersCollectionEvents>\n    implements SublayersCollection\n{\n    #sublayers: Sublayer[];\n\n    constructor(sublayers: Sublayer[]) {\n        super();\n        this.#sublayers = sublayers;\n    }\n\n    destroy() {\n        for (const layer of this.#sublayers) {\n            layer.destroy();\n        }\n        this.#sublayers = [];\n    }\n\n    getSublayers(_options?: LayerRetrievalOptions | undefined): Sublayer[] {\n        // NOTE: options are ignored because layers are always ordered at this time.\n        return this.#sublayers.slice();\n    }\n\n    /**\n     * Returns a reference to the internal sublayers array.\n     *\n     * NOTE: Do not modify directly!\n     */\n    __getRawSublayers(): Sublayer[] {\n        return this.#sublayers;\n    }\n}\n"],"names":[],"mappings":";;AAYO,MAAM,gCACD,YAEZ,CAAA;AAAA,EACI,UAAA;AAAA,EAEA,YAAY,SAAuB,EAAA;AAC/B,IAAM,KAAA,EAAA;AACN,IAAA,IAAA,CAAK,UAAa,GAAA,SAAA;AAAA;AACtB,EAEA,OAAU,GAAA;AACN,IAAW,KAAA,MAAA,KAAA,IAAS,KAAK,UAAY,EAAA;AACjC,MAAA,KAAA,CAAM,OAAQ,EAAA;AAAA;AAElB,IAAA,IAAA,CAAK,aAAa,EAAC;AAAA;AACvB,EAEA,aAAa,QAA0D,EAAA;AAEnE,IAAO,OAAA,IAAA,CAAK,WAAW,KAAM,EAAA;AAAA;AACjC;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,iBAAgC,GAAA;AAC5B,IAAA,OAAO,IAAK,CAAA,UAAA;AAAA;AAEpB;;;;"}