{"version":3,"file":"geometry-utils.js","sources":["geometry-utils.ts"],"sourcesContent":["// SPDX-FileCopyrightText: 2023 Open Pioneer project (https://github.com/open-pioneer)\n// SPDX-License-Identifier: Apache-2.0\nimport { Extent, getHeight, getWidth } from \"ol/extent\";\n\nconst DEFAULT_BUFFER_FACTOR = 1.2;\n\n/**\n * Computes a buffered extent using the given original extent.\n *\n * Use the `factor` (`1.2` by default) to specify the size increase.\n */\nexport function calculateBufferedExtent(extent: Extent, factor = DEFAULT_BUFFER_FACTOR): Extent {\n    checkExtent(extent);\n    const width = getHeight(extent);\n    const height = getWidth(extent);\n    const bufferWidth = width * factor;\n    const bufferHeight = height * factor;\n    const bufferedExtent = [\n        extent[0] - (bufferWidth - width) / 2,\n        extent[1] - (bufferHeight - height) / 2,\n        extent[2] + (bufferWidth - width) / 2,\n        extent[3] + (bufferHeight - height) / 2\n    ];\n    return bufferedExtent;\n}\n\nfunction checkExtent(extent: Extent): asserts extent is [number, number, number, number] {\n    if (extent.length !== 4) {\n        throw new Error(`Invalid extent (expected length 4, but got length ${extent.length}).`);\n    }\n}\n"],"names":[],"mappings":";;AAIA,MAAM,qBAAwB,GAAA,GAAA,CAAA;AAOd,SAAA,uBAAA,CAAwB,MAAgB,EAAA,MAAA,GAAS,qBAA+B,EAAA;AAC5F,EAAA,WAAA,CAAY,MAAM,CAAA,CAAA;AAClB,EAAM,MAAA,KAAA,GAAQ,UAAU,MAAM,CAAA,CAAA;AAC9B,EAAM,MAAA,MAAA,GAAS,SAAS,MAAM,CAAA,CAAA;AAC9B,EAAA,MAAM,cAAc,KAAQ,GAAA,MAAA,CAAA;AAC5B,EAAA,MAAM,eAAe,MAAS,GAAA,MAAA,CAAA;AAC9B,EAAA,MAAM,cAAiB,GAAA;AAAA,IACnB,MAAO,CAAA,CAAC,CAAK,GAAA,CAAA,WAAA,GAAc,KAAS,IAAA,CAAA;AAAA,IACpC,MAAO,CAAA,CAAC,CAAK,GAAA,CAAA,YAAA,GAAe,MAAU,IAAA,CAAA;AAAA,IACtC,MAAO,CAAA,CAAC,CAAK,GAAA,CAAA,WAAA,GAAc,KAAS,IAAA,CAAA;AAAA,IACpC,MAAO,CAAA,CAAC,CAAK,GAAA,CAAA,YAAA,GAAe,MAAU,IAAA,CAAA;AAAA,GAC1C,CAAA;AACA,EAAO,OAAA,cAAA,CAAA;AACX,CAAA;AAEA,SAAS,YAAY,MAAoE,EAAA;AACrF,EAAI,IAAA,MAAA,CAAO,WAAW,CAAG,EAAA;AACrB,IAAA,MAAM,IAAI,KAAA,CAAM,CAAqD,kDAAA,EAAA,MAAA,CAAO,MAAM,CAAI,EAAA,CAAA,CAAA,CAAA;AAAA,GAC1F;AACJ;;;;"}